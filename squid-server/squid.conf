############################################
# PARENT SQUID SERVER CONFIGURATION
############################################

http_port 3128
visible_hostname parent-squid

# Allow local network / allow VM clients
acl localnet src 10.0.0.0/8
acl localhost src 127.0.0.1/32

http_access allow localhost
http_access allow localnet
http_access deny all

# Basic allowed ports
acl Safe_ports port 80      # HTTP
acl Safe_ports port 443     # HTTPS
acl Safe_ports port 21      # FTP (optional)
acl CONNECT method CONNECT

http_access allow CONNECT !Safe_ports
http_access deny !Safe_ports

# Logging
access_log /var/log/squid/access.log squid

# Performance tuning (optional)
cache_mem 256 MB
maximum_object_size_in_memory 512 KB
maximum_object_size 50 MB
